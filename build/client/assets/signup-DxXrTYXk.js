import{w as m}from"./with-props-BITBR5i4.js";import{a as e,t as p,o as s,L as d}from"./chunk-D4RADZKF-F8gbsHt2.js";import{C as x}from"./context-DqGd4opN.js";const N=m(function(){const{setCurUser:i}=e.useContext(x),r=p(),t=e.useRef(""),a=e.useRef(""),n=e.useRef("");async function l(o){o.preventDefault(),await fetch("http://localhost:3000/users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:t.current.value,name:a.current.value,password:n.current.value}})});const c=await(await fetch("http://localhost:3000/api/v1/users")).json();i(c.find(u=>u.email===t.current.value)),r("/")}return s.jsxs(s.Fragment,{children:[s.jsx("h1",{className:"title",children:"Sign up"}),s.jsxs("form",{className:"section",onSubmit:l,children:[s.jsx("fieldset",{children:s.jsxs("label",{children:["Email",s.jsx("br",{}),s.jsx("input",{className:"input",type:"email",ref:t})]})}),s.jsx("fieldset",{children:s.jsxs("label",{children:["Name",s.jsx("br",{}),s.jsx("input",{className:"input",ref:a})]})}),s.jsx("fieldset",{children:s.jsxs("label",{children:["Password (6 characters minimum)",s.jsx("br",{}),s.jsx("input",{className:"input",ref:n})]})}),s.jsxs("fieldset",{className:"row",children:[s.jsx("button",{className:"btn",children:"Sign up"}),s.jsx(d,{className:"btn",to:"/login",children:"Log in"})]})]})]})});export{N as default};
